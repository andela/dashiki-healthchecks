{% extends "front/base_posts.html" %}
{% load compress staticfiles %}

{% block title %}
    Blog - healthchecks.io
{% endblock %}

{% block posts_content %}
    {% if all_posts %}
        <h2>All posts</h2>
        {% for post in all_posts %}
            <a href="{% url "hc-show-post" post.slug %}">
                <h4>{{ post.title }}</h4>
            </a>
            <h4>{{ post.user.last_name }} {{ post.user.first_name }}</h4>
            <a href="{% url "hc-update-post" post.slug %}">Edit</a> |
            <a href="{% url "hc-delete-post" post.slug %}">Delete</a>
            <br/>
        {% endfor %}

        <br/>
        <div class="pagination">
            <span class="step-links">
                {% if all_posts.has_previous %}
                    <a href="?page={{ all_posts.previous_page_number }}"
                       class="btn btn-primary">
                        previous
                    </a>
                {% endif %}

                <span class="current">
                    Page {{ all_posts.number }} of {{ all_posts.paginator.num_pages }}
                </span>

                {% if all_posts.has_next %}
                    <a href="?page={{ all_posts.next_page_number }}"
                       class="btn btn-primary">
                        next
                    </a>
                {% endif %}
            </span>
        </div>
    {% else %}
        <h2>No posts at this time</h2>
    {% endif %}
{% endblock %}
